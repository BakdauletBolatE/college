–ü–æ–∏—Å–∫ –∞–∫—Ü–∏–π üîç
========================================



API –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–∞

.. function:: –°–¥–µ–ª–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å –º–µ—Ç–æ–¥–æ–º `POST` –ø–æ —Å—Å—ã–ª–∫–µ: /api/v1/sale/find/

.. note::
   –ü—Ä–∏ –ø–æ–º–æ—â–∏ –∑–∞–ø—Ä–æ—Å–∞ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∞–∫—Ü–∏–∏ –æ –ø—Ä–æ–¥—É–∫–∞—Ö

   –¢–∞–∫ –∂–µ –≤ –∑–∞–ø—Ä–æ—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∞–∫—Ü–∏–∏ —Ç–∏–ø–∞ {'chance'} –≥–¥–µ 
   –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–æ–∂–µ—Ç –ª–∏ —É—á–∞–≤—Å—Ç–≤–æ–≤–∞—Ç—å –∫–ª–∏–µ–Ω—Ç –≤ –∞–∫—Ü–∏–∏, –∞ —Ç–∞–∫ –∂–µ –≤—ã–≤–æ–¥–∏—Ç 
   –¥–µ—Ç–∞–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –µ—Å–ª–∏ –∫–ª–∏–µ–Ω—Ç —É—á–∞–≤—Å—Ç–≤—É–µ—Ç –≤ —ç—Ç–æ–π –∞–∫—Ü–∏–∏



   *–ó–∞–≥–æ–ª–æ–≤–æ–∫*::
      
      - header 'Authorization: {Token}' 
      - header 'Content-Type: application/vnd.api+json' 

   *–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞*:

 .. code-block:: json

    {
        "data": {
            "type":"SaleFind",
            "attributes": {
            "shop_id": 1,
            "client_phone": "77077005975",
            "products": [{
                "product_id":4000,
                "quantity": 1
            },
            {
                "product_id":7000,
                "quantity": 1
            }
            ] 
            }
        }
                
    }


.. function:: –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
   - –í—Å–µ –ø–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ, –Ω–∏–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã *url parameters*

   :param type: "String", –ø–æ–ª–µ –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–∏–ø –º–æ–¥–µ–ª–∏
   :param shop_id: "Integer", id –º–∞–≥–∞–∑–∏–Ω–∞
   :param product_id: "Integer", id –ø—Ä–æ–¥—É–∫—Ç–∞
   :param quantity: "Integer", –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–∞

.. note::
    –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—è **promo_codes**, 
    —Å–µ—Ä–≤–µ—Ä –≤—ã–¥–∞—Å—Ç –æ—Ç–≤–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞–≤—Å—Ç–≤—É—é—Ç
    –≤ –∞–∫—Ü–∏–∏ **sale-promocode**

    –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—è **client_phone**,
    —Å–µ—Ä–≤–µ—Ä –≤—ã–¥–∞—Å—Ç –æ—Ç–≤–µ—Ç c –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞–≤—Å—Ç–≤—É—é—Ç
    –≤ –∞–∫—Ü–∏–∏ **sale-to-client**

    –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤ –∑–∞–ø—Ä–æ—Å –ø–æ–ª—è **secret_coupons**,
    —Å–µ—Ä–≤–µ—Ä –≤—ã–¥–∞—Å—Ç –æ—Ç–≤–µ—Ç c –¥–∞–Ω–Ω—ã–º–∏ –æ –ø—Ä–æ–¥—É–∫—Ç–∞—Ö –∫–æ—Ç–æ—Ä—ã–µ —É—á–∞–≤—Å—Ç–≤—É—é—Ç
    –≤ –∞–∫—Ü–∏–∏ **secret_coupons**
   
   

*–û—Ç–≤–µ—Ç*::
   
   - Status: 200 OK


*–î–∞—Ç–∞ –¥–∞–Ω–Ω—ã–µ*:

.. code-block:: json

    {
        "data": {
            "cascades": [],
            "others": [
                {
                    "price": 44950,
                    "new_price": 35960,
                    "product": {
                        "id": 4000,
                        "full_name": "–°–º–∞—Ä—Ç-—á–∞—Å—ã Huawei Watch Fit New Isle Blue TIA-B09 MCHN03",
                        "category_id": 2168
                    },
                    "sales": [
                        {
                            "type": "percent",
                            "id": 1
                        }
                    ]
                },
                {
                    "price": 2990,
                    "new_price": 2990,
                    "product": {
                        "id": 7000,
                        "full_name": "–ê–Ω—Ç–∏–≤–∏—Ä—É—Å Kaspersky Internet Security 2018 Box 2-Desktop Base",
                        "category_id": 1885
                    },
                    "sales": [
                        {
                            "type": "chance",
                            "id": 1
                        }
                    ]
                }
            ],
            "return_chance_ticket": {
                "result_chance": "",
                "chance_obj": {
                    "id": 1,
                    "min_amount": 50000,
                    "multiplicity": 50000
                },
                "products": [
                    {
                        "product": {
                            "id": 7000,
                            "full_name": "–ê–Ω—Ç–∏–≤–∏—Ä—É—Å Kaspersky Internet Security 2018 Box 2-Desktop Base",
                            "category_id": 1885
                        },
                        "price": 2990
                    }
                ]
            },
            "not_exist_products": []
        }
    }

.. function:: –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª–µ–π

   :param result_chance: "String", –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∏–ª–µ—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–Ω–æ–≥–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
   :param min_amount: "Integer", –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Å—É–º–º—ã –¥–ª—è —É—á–∞—Å—Ç–∏—è –≤ –∞–∫—Ü–∏–∏
   :param multiplicity: "Integer", –∫—Ä–∞—Ç–Ω–æ—Å—Ç—å —á–∏—Å–ª–∞ –Ω–∞ –∫–æ—Ç–æ—Ä–æ–µ –¥–µ–ª–∏—Ç—Å—è —Å—É–º–º–∞


